<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
    <title>Faculty Dashboard | Quiz Application</title>
    <meta name="author" content="Angel Koradiya">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Faculty dashboard to create and manage quizzes in the Quiz Application.">
  <meta name="keywords" content="quiz application, online quiz, faculty dashboard, create quiz">

  <!-- Open Graph Meta Tags for social media sharing -->
  <meta property="og:title" content="Faculty Dashboard | Quiz Application">
  <meta property="og:description" content="Faculty dashboard to create and manage quizzes in the Quiz Application.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://quiz-minimal.onrender.com/">
  <meta property="og:image" content="https://quiz-minimal.onrender.com/logo.jpg">
  <meta property="og:site_name" content="Quiz Application">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Faculty Dashboard | Quiz Application">
  <meta name="twitter:description" content="Faculty dashboard to create and manage quizzes in the Quiz Application.">
  <meta name="twitter:image" content="https://quiz-minimal.onrender.com/logo.jpg">
  <link rel="canonical" href="https://quiz-minimal.onrender.com/" />
    <meta name="robots" content="noindex, nofollow">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Faculty Dashboard - Quiz Application",
        "url": "https://quiz-minimal.onrender.com/logined/faculty",
        "description": "Faculty dashboard to create and manage quizzes in the Quiz Application."
    }
    </script>
  <link rel="stylesheet" href="/style.css">
  <link rel="icon" href="./favicon.ico" />
    <style>
        * {
            margin: 0;
            padding: 0;
            text-decoration: none;
            list-style-type: none;

            /* background-color: black;
    color: white;    
    font-size: 30px; */
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        body div {
            color: white;
        }

        html,
        body {
            background: linear-gradient(135deg, #0f172a 0%, #134e4a 100%);
            min-height: 100vh;
        }

        a {
            cursor: pointer;
        }

        span {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 12px;
            font-size: 1.25rem;
            box-shadow: 0 4px 6px -1px rgba(6, 182, 212, 0.3);
        }

        input,
        button {
            padding: 12px;
            margin: 19px;
            border-radius: 10px;
            text-align: center;
            max-width: 500px;
        }

        hr {
            margin: 25px 100px;
        }

        /* navbar */
        nav {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        nav ul {
            padding: 3px;
            display: flex;
            flex-direction: row;
            justify-content: center;
        }

        nav ul li button {
            padding: 0.75rem 1.5rem;
            margin: 0.5rem;
            background: rgba(51, 65, 85, 0.8);
            color: #cbd5e1;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        nav ul li button:hover {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(6, 182, 212, 0.3);
        }

        /* box */
        #divof_CO {
            padding: 12px;
            margin: 19px;
            text-align: left;
            /* display: flex;
            flex-direction: column; */
            /* color: white; */
        }

        #afterCO,
        #divof_question,
        #afterquestion,
        #confirmation {
            display: none;
            padding: 12px;
            margin: 19px;
            text-align: center;
        }

        #afterquestion p {
            padding: 12px;
            margin: 19px;
        }

        button:active {
            transform: translateY(0);
        }
        
        input:focus {
            border-color: #06b6d4;
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1);
            outline: none;
        }

        #Quiz {
            display: none;
            text-align: center;
            padding: 12px;
            margin: 19px;
        }

        #titlequiz{
            font-size: 2rem;
            text-align: center;
            padding: 1.5rem;
            margin: 2rem auto;
            font-weight: 700;
            background: linear-gradient(135deg, #06b6d4 0%, #14b8a6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        #divof_CO div p{
            display: inline;
            background: rgba(30, 41, 59, 0.6);
            padding: 12px 20px;
            font-size: 1.125rem;
            border-radius: 0.75rem;
            border: 2px solid rgba(148, 163, 184, 0.2);
        }
    </style>

</head>

<body>

    <nav>
        <ul>
            <li><button id="Create">Create Quiz</button></li>
            <li>
                <button id="Update">Update Quiz</button>
            </li>
            <li>
                <button id="Response">Response</button>
            </li>
            <li>
                <form method="post" action="/logined/logout"><button value="logout" id="logout">Log Out</button></form>
            </li>
        </ul>
    </nav>
    <div>
        <main>
            <div id="titlequiz">Quiz Structure </div>
            <div id="Quiz">Enter Quiz Title :- <span id="quiz_title2"></span>
                <hr style="margin-bottom:20px ;">
            </div>
            <!-- input of how many CO requriment -->
            <div id="divof_CO">
                <div><p>Enter Quiz Title :- </p><input type="text" id="quiz_title">
                <p>How many CO you want ? : -</p>
                <input type="number" name="CO" id="CO">
                <!--  --></div>
                <div id="submittt"><input type="submit" value="Submit" id="count"></div>
            </div>
            <!-- display requried CO count -->
            <div id="afterCO">
            </div>
            <div id="divof_question">
                How many question you want in CO <span id="print_current_co"></span> ? : -
                <input type="number" name="question_count" id="question_count">
                <input type="submit" value="Submit" id="count2">
            </div>
    </div>
    <div id="afterquestion">
    </div>
    <!-- Confirmation -->
    <div id="confirmation">
        <hr>
        Please ! Confirm the total CO and each COs total Question : -
        <button type="reset" value="reset" id="reset">Reset</button>
        <button type="submit" value="submit" id="final_submit">Submit</button>
        <!-- DATA GOING TO BACKEND -->
    </div>
    </main>
    </div>
</body>
<script>

    const baseUrl = window.location.origin + '/';
    const create = document.getElementById("Create")
    const update = document.getElementById("Update")
    const response = document.getElementById("Response")
    create.addEventListener("click", () => {
        window.location =baseUrl+ 'logined/faculty/create';
    })
    update.addEventListener("click", () => {
        window.location =baseUrl + 'logined/faculty/update';
    })
    response.addEventListener("click", () => {
        window.location = baseUrl + 'logined/faculty/response';
    })



    let CO = document.getElementById("CO");
    let count = document.getElementById("count");
    let count2 = document.getElementById("count2");
    let question_count = document.getElementById("question_count");
    let quiz_title = document.getElementById("quiz_title");
    let divof_CO = document.getElementById("divof_CO");
    let divof_question = document.getElementById("divof_question");
    let afterCO = document.getElementById("afterCO");
    let afterquestion = document.getElementById("afterquestion");
    let print_current_co = document.getElementById("print_current_co");
    let confirmation = document.getElementById("confirmation");
    let a_home = document.getElementById('a_home');
    let a_question = document.getElementById('a_question');
    let a_aboutme = document.getElementById('a_aboutme');
    let a_responses = document.getElementById('a_responses');
    let quiz_title2 = document.getElementById('quiz_title2');
    let Quiz = document.getElementById('Quiz');
    let value
    //variables
    let num;

    let arr = [];
    let current_co = 0;


    count.addEventListener("click", (e) => {
        e.preventDefault();
        num = CO.value;
        if (num != '') {
            divof_CO.style.display = "none";
            afterCO.innerHTML = `Your total CO s are ${num}<hr>`;
            afterCO.style.display = "block";
            divof_question.style.display = "block";
            Quiz.style.display = 'block'
            quiz_title2.innerHTML = quiz_title.value;
        }
    })

    current_co++;
    print_current_co.innerHTML = current_co;
    count2.addEventListener("click", (e) => {
        e.preventDefault();
        arr[current_co - 1] = question_count.value;
        if (question_count.value != '') {
            if (current_co >= num) {
                divof_question.style.display = "none";
                afterquestion.style.display = "block";
                confirmation.style.display = "block";
                for (let i = 0; i < num; i++) {
                    afterquestion.innerHTML += `<p>Your total Question in ${i + 1} is ${arr[i]}</p><br>`
                }
            }
            current_co++;
            print_current_co.innerHTML = current_co;
        }
    })

    let reset = document.getElementById("reset")
    reset.addEventListener("click", (e) => {
        e.preventDefault();
        location.reload();
    })

    let final_submit = document.getElementById("final_submit");
    final_submit.addEventListener("click", postInfo)
    async function postInfo(e) {
        e.preventDefault();
        try {
            const res = await fetch(window.location.href + '/indexxx',
                {
                    method: 'POST',
                    headers: {
                        "Content-Type": 'application/json'
                    },
                    body: JSON.stringify({ parcel: arr, parcel_title: quiz_title.value })

                });
                if(res.status==200){
                    alert('DATA IS UPLOADED');
                }
                else if(res.status==401){
                    alert("already exist title on this user");
                }
        }
        
        catch {
            alert('PROBLEM IN POST REQUEST.DATA NOT UPLOADED.');
        }

    }












</script>

</html>